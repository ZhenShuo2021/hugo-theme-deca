{{ define "main" }}
{{ partial "breadcrumbs.html" . }}
<header class="section-header">
  <h1 class="section-title">{{ .Title }}</h1>
  {{ if gt (len .RegularPages) 0 }}
  <div class="section-meta">
    <span class="post-count">{{ len .RegularPages }} 篇文章</span>
    <span class="total-reading-time">總閱讀時間 {{ $totalTime := 0 }}{{ range .RegularPages }}{{ if gt .ReadingTime 0 }}{{
      $totalTime = add $totalTime (math.Ceil .ReadingTime) }}{{ end }}{{ end }}{{ $totalTime }} 分鐘</span>
  </div>
  {{ end }}
</header>

<div class="section-content">{{ .Content }}</div>

<div class="posts-list">
  {{ range .Paginator.Pages }}
  <article class="post-item">
    <h2 class="post-title">
      <a href="{{ .RelPermalink }}" data-no-swup>{{ .LinkTitle }}</a>
    </h2>
    <div class="post-meta">
      <span class="reading-time">{{ .ReadingTime }} 分鐘閱讀</span>
    </div>
    <div class="post-summary">
      {{ .Summary | truncate 80 "" | plainify | strings.TrimSpace }}...
    </div>
  </article>
  {{ end }}
</div>

{{ partial "page-navigation.html" . }}
{{ end }}