{{ define "main" }}
<!-- Blog Breadcrumbs -->
{{ if gt (len .Ancestors) 1 }}
<nav class="blog-breadcrumbs">
  {{ range .Ancestors.Reverse }}
    {{ if ne .Kind "home" }}
    <a href="{{ .RelPermalink }}">{{ .Title }}</a>
    <span class="breadcrumb-separator">/</span>
    {{ end }}
  {{ end }}
  <span class="breadcrumb-current">{{ .Title }}</span>
</nav>
{{ end }}

<article class="blog-post">
  <!-- Post Header -->
  <header class="blog-post-header">
    <div class="blog-post-meta">
      <time class="blog-post-date" datetime="{{ .Date.Format "2006-01-02" }}">
        {{ .Date.Format "January 2, 2006" }}
      </time>
      {{ with .Params.tags }}
      <div class="blog-post-tags">
        {{ range . }}
        <a href="{{ "/tags/" | relURL }}{{ . | urlize }}" class="blog-post-tag">{{ . }}</a>
        {{ end }}
      </div>
      {{ end }}
    </div>
    
    <h1 class="blog-post-title">{{ .Title }}</h1>

    
    {{ with .Params.author }}
    <div class="blog-post-author">
      <span class="author-label">作者：</span>
      <span class="author-name">{{ . }}</span>
    </div>
    {{ end }}
  </header>

  <!-- Post Content -->
  <div class="blog-post-content">
    {{ .Content }}
  </div>

  <!-- Post Footer -->
  <footer class="blog-post-footer">
    {{ with .Params.tags }}
    <div class="blog-post-tags-footer">
      <span class="tags-label">標籤：</span>
      {{ range . }}
      <a href="{{ "/tags/" | relURL }}{{ . | urlize }}" class="blog-post-tag">{{ . }}</a>
      {{ end }}
    </div>
    {{ end }}
    
    <div class="blog-post-share">
      <span class="share-label">分享：</span>
      <a href="https://twitter.com/intent/tweet?url={{ .Permalink | safeURL }}&text={{ .Title | safeURL }}" 
         target="_blank" rel="noopener" class="share-btn share-twitter">Twitter</a>
      <a href="https://www.facebook.com/sharer/sharer.php?u={{ .Permalink | safeURL }}" 
         target="_blank" rel="noopener" class="share-btn share-facebook">Facebook</a>
    </div>
  </footer>
</article>

<!-- Navigation -->
<nav class="blog-post-nav">
  {{ with .PrevInSection }}
  <a href="{{ .RelPermalink }}" class="blog-nav-btn blog-nav-prev">
    <div class="nav-direction">← 上一篇</div>
    <div class="nav-title">{{ .Title }}</div>
  </a>
  {{ end }}
  
  <a href="{{ .Section | relURL }}" class="blog-nav-btn blog-nav-list">
    <div class="nav-direction">返回列表</div>
    <div class="nav-title">所有文章</div>
  </a>
  
  {{ with .NextInSection }}
  <a href="{{ .RelPermalink }}" class="blog-nav-btn blog-nav-next">
    <div class="nav-direction">下一篇 →</div>
    <div class="nav-title">{{ .Title }}</div>
  </a>
  {{ end }}
</nav>
{{ end }}